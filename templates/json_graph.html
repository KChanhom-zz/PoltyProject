<html>
    <head><meta charset="utf-8" /></head>
    <body>
    <h1> Get data from Json file</h1>
        <script type="text/javascript" src="{{ url_for('static', filename='/js/figure.js') }}"></script>
        <script type="text/javascript" src="{{ url_for('static', filename='/js/plotlyjs-bundle.js') }}"></script>


        <div id="bfd0d90a-9412-4aa1-99f6-0f2796698ee4" style="width: 100%; height: 100%;" class="plotly-graph-div"></div>
        <script type="text/javascript">
            (function(){
                window.PLOTLYENV={'BASE_URL': 'https://plot.ly'};

                var gd = document.getElementById('bfd0d90a-9412-4aa1-99f6-0f2796698ee4')
                var resizeDebounce = null;

                function resizePlot() {
                    var bb = gd.getBoundingClientRect();
                    Plotly.relayout(gd, {
                        width: bb.width,
                        height: bb.height
                    });
                }


                window.addEventListener('resize', function() {
                    if (resizeDebounce) {
                        window.clearTimeout(resizeDebounce);
                    }
                    resizeDebounce = window.setTimeout(resizePlot, 100);
                });

                Plotly.plot(gd,  {
                    data: figure.data,
                    layout: figure.layout,
                    frames: figure.frames,
                    config: {"showLink": true, "linkText": "Export to plot.ly", "mapboxAccessToken": "pk.eyJ1IjoiY2hyaWRkeXAiLCJhIjoiY2lxMnVvdm5iMDA4dnhsbTQ5aHJzcGs0MyJ9.X9o_rzNLNesDxdra4neC_A"}
                });

           }());
        </script>
    </body>
</html>
